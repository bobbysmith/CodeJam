
<div class="large-6 medium-8 small-9 large-centered medium-centered small-centered columns top-space-80" id="box">
  <h4><%= @user.name %> has <%= @user.reputation_for(:votes).to_i %> reps</h4>
  <% @songs.each_with_index do |s, i| %>
    <object height="50" width="100%" id="song<%= i %>">
      <param name="movie" value="https://player.soundcloud.com/player.swf?url=<%= s.url %>&player_type=tiny&show_comments=false&object_id=song<%= i %>"></param>
      <param name="allowscriptaccess" value="always"></param>
      <param name="wmode" value="transparent"></param>
      <embed wmode="transparent" allowscriptaccess="always" height="18" width="100%" src="https://player.soundcloud.com/player.swf?{show_comments=false}&url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2Ferb<%= s.url %>&enable_api=true&object_id=song<%= i %>" name="song<%= i %>"></embed>
    </object>
    <div class="total">
      <%= pluralize s.reputation_for(:votes).to_i, "reps" %>
    </div>
    <hr>
  <% end %>
</div>



<% content_for :js do %>
  <script type="text/javascript">
    soundcloud.addEventListener('onMediaEnd', function(player, data) {
      // debugger;
      // needs to know what the next song is and play it
      console.log("end");
    });
    soundcloud.addEventListener('onPlayerReady', function(player, data) {
      console.log('readddyyy');
    });
    soundcloud.addEventListener('onMediaSeek', function(player, data) {
      console.log('seek!')
    });
  </script>
<% end %>
